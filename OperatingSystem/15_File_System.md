## Ch15 파일시스템

### 파일
- 보조기억장치에 저장된 관련 정보의 집합, 의미 있고 관련 있는 정보를 모은 논리적 단위
- 모든 파일에는 이름과 파일을 실행하기 위한정보, 파일 관련 부가 정보(속성)가 있다.
- 대표적인 속성으로는 유형, 크기, 보호, 생성 날짜, 접근 날짜, 수정 날짜, 생성자, 소유자, 위치 등
- 생성, 삭제, 열기, 닫기, 읽기, 쓰기 등 파일 연산은 시스템 호출로 제공된다.

### 디렉터리(폴더)
- 파일을 관리하기 위해 사용하며 트리 구조 디렉터리를 주로 사용한다.
- 디렉터리 경로는 루트 디렉터리부터 시작하는 절대 경로와 현재 위치로 부터 나타내는 상대 경로가 있다.
- 디렉터리 연산도 시스템 호출로 제공된다.
- 디렉터리는 해당 디렉터리에 포함된 대상의 정보를 테이블로 저장한 하나의 파일이다.
- 디렉터리 테이블에는 디렉터리에 속한 파일의 위치 정보를 저장하고 있다.

### 파일 시스템
- 파티셔닝: 저장 장치의 논리적인 영역을 구획하는 작업
- 포매팅: 어떤 방식으로 파일을 저장하고 관리할 지 파일 시스템을 설정하는 작업
- 각 파티션 마다 서로 다른 파일 시스템을 설정할 수 있다.
- 파일 시스템마다 파일을 할당하는 방법이 다른데 운영체제는 파일과 디렉터리를 블록 단위로 읽고 씀
    - 연속 할당: 보조기억장치 내 연속적인 불록에 파일을 할당하는 방식으로 외부 단편화 문제 발생
    - 연결 할당: 연결 리스트 형태로 각 블록에 다음 블록을 저장, 임의 접근 속도가 느리고 하나의 블록만 고장나도 다른 블록에 접근 불가능
    - 색인 할당: 색인 블록이라는 하나의 블록에 파일의 모든 블록 주소를 저장

**FAT 파일 시스템**
- 연결 할당의 단점을 보완한 방식을 사용하는 파일 시스템으로 파일 할당 테이블(File Allocation Table)을 통해 연결된 블록들의 주소를 따로 관리한다.
- 파일 할당 테이블은 메모리에 캐시될 수 있어서 기존 연결 할당보다 다음 블록을 찾는 속도도 매우 빠르다.
- 파일 속성 정보는 디렉터리 엔트리에서 표현된다.

**유닉스 파일 시스템**
- 색인 할당 기반의 파일 시스템으로 i-node라고 부르는 색인 블록을 사용한다.
- i-node에는 파일 속성 정보와 15개의 블록 주소를 저장할 수 있다.
- 블록 주소가 모자랄 경우 간접 블록 주소를 사용한다.