## Ch13 교착 상태

### 교착 상태
- 교착 상태(Deadlock)란 작업들 사이에 자원의 점유와 대기가 얽혀 진행이 멈춘 상태
- 교착 상태는 자원 할당 그래프를 통해 시각적으로 표현 가능하다.
    - 작업: 원, 자원: 사각형, 점유: 자원 → 작업, 대기: 작업 → 자원
- 교착 상태는 상호 배제, 점유와 대기, 비선점, 원형 대기 네 가지 조건이 만족될 때 발생한다.
    - 상호 배제: 동시에 한 자원에 접근할 수 없다.
    - 점유와 대기: 한 자원을 점유한 채로 다른 자원을 대기한다.
    - 비선점: 다른 작업이 점유한 자원을 빼앗을 수 없다.
    - 원형 대기: 자원 할당 그래프가 원의 형태로 그려진다.

### 교착 상태 해결 방법
- 예방: 교착 상태의 조건인 네 가지 조건들 중 하나를 만족하지 못하게 하는 방법
    - 상호 배제는 동시에 자원을 사용하게 하는 것이 어려움
    - 점유와 대기는 자원의 활용률이 낮아지고 기아 현상 발생 가능
    - 비선점은 선점할 수 없는 자원이 존재
    - 원형 대기는 각 자원마다 번호를 붙이는 것에 오버헤드 발생 가능
- 회피: 교착 상태가 발생하지 못하도록 자원의 할당을 조절
    - 안전 순서열: 총 자원, 현재 사용량, 작업 당 최대 요구량을 고려하여 모든 작업을 마칠 수 있는 순서
    - 안전 순서열이 있는 상태를 안전 상태, 안전 순서열이 없는 상태를 불완전 상태
    - 안전 상태를 유지할 수 있도록 자원의 할당을 관리함으로써 교착 상태 회피 가능
- 검출 후 회복: 교착 상태가 발견됐을 때 작업의 조절을 통해 교착 상태를 해결
    - 선점을 통한 회복: 자원을 강제로 빼앗아 한 작업마다 자원을 몰아줌
    - 프로세스 강제 종료를 통한 회복: 프로세스를 하나씩, 혹은 전체를 종료
- 교착 상태를 무시하는 방법인 타조 알고리즘도 존재